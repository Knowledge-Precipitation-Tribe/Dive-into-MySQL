# 索引的设计原则

1. 适合索引的列是出现在where子句中的列，或者连接子句中指定的列，较频繁作为查询条件的字段才去创建索引，对于那些查询中很少涉及的列，重复值比较多的列不要建立索引。
2. 更新频繁字段不适合创建索引。
3. 定义有外键的数据列一定要建立索引。
4. 基数较小的类，索引效果较差，没有必要在此列建立索引。
5. 若是不能有效区分数据的列不适合做索引列\(如性别，男女未知，最多也就三种，区分度实在太低\)。
6. 使用短索引，如果对长字符串列进行索引，应该指定一个前缀长度，这样能够节省大量索引空间。
7. 尽量的扩展索引，不要新建索引。比如表中已经有a的索引，现在要加\(a,b\)的索引，那么只需要修改原来的索引即可。
8. 不要过度索引。索引需要额外的磁盘空间，并降低写操作的性能。在修改表内容的时候，索引会进行更新甚至重构，索引列越多，这个时间就会越长。所以只保持需要的索引有利于查询即可。
9. 最左前缀匹配原则是组合索引非常重要的原则，mysql会一直向右匹配直到遇到范围查询\(&gt;、&lt;、between、like\)就停止匹配，比如a = 1 and b = 2 and c &gt; 3 and d = 4 如果建立\(a,b,c,d\)顺序的索引，d是用不到索引的，如果建立\(a,b,d,c\)的索引则都可以用到，a,b,d的顺序可以任意调整。
10. 对于定义为text、image和bit的数据类型的列不要建立索引。
11. 应该指定列为NOT NULL，除非你想存储NULL。在mysql中，含有空值的列很难进行查询优化，因为它们使得索引、索引的统计信息以及比较运算更加复杂。你应该用0、一个特殊的值或者一个空串代替空值。
12. 取值离散大的字段（变量各个取值之间的差异程度）的列放到联合索引的前面，可以通过count\(\)函数查看字段的差异值，返回值越大说明字段的唯一值越多字段的离散程度高。
13. 索引字段越小越好，数据库的数据存储以页为单位一页存储的数据越多一次IO操作获取的数据越大效率越高。

